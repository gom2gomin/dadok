<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.choongang.s202350103.MemberMapper">
	<select id="ybUserLogin" parameterType="Member" resultType="Member">
		SELECT * from member where m_id = #{m_id} and m_pw = #{m_pw} and m_wd = 0
	</select>
	
	<select id="ybTotalCart" parameterType="Member" resultType="int">
		Select sum(c_count) from cart  where m_num = #{m_num}
	</select>
	
	<select id="ybListCart" parameterType="Member" resultType="Cart">
		SELECT *
		FROM
		(
				SELECT rownum rn, a.*
				FROM
							(select c.nb_num, c.c_count, n.nb_title, n.nb_price, n.nb_writer, n.nb_publisher, n.nb_image  
                             From cart c, newbook n
                             where c.nb_num = n.nb_num
                             and   c.m_num = #{m_num}) a
		)
		WHERE   rn BETWEEN #{start} and #{end}
	</select>
	
	<select id="ybTotalPrice" parameterType="member" resultType="int">
		SELECT sum(c_count) totalPrice 
		FROM   
	</select>
	
</mapper>